name: CI - SAST + Semgrep
on: [push, pull_request]

jobs:
   scans:
      runs-on: ubuntu-latest
      steps:
         - name: Checkout repository
            uses: actions/checkout@v3

         - name: FluidAttacks SAST (Docker image)
            uses: docker://docker.io/fluidattacks/sast:latest
            with:
               args: sast scan /github/workspace
            # Allow the job to continue even if the scanner finds issues
            continue-on-error: true

         - name: Summary note
            run: |
               echo "Scan finished. FluidAttacks SAST ran." 
               echo "Semgrep step removed for now; workflow won't fail on findings."